<!doctype html>
<html>
<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link href="css\layout.css" rel="stylesheet" type="text/css">

  <title>Books List</title>

  <script src="https://unpkg.com/vue@next"></script>
  <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>

</head>
<body>
  <div class="card text-center">
    <div class="card-header">
      <ul class="nav nav-tabs card-header-tabs">
        <li class="nav-item">
          <a class="nav-link" href="index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="table.html">Table of Books</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="userInfo.html">User Information</a>
        </li>
      </ul>
    </div>
  </div>
</body>
<h1 id="header">
  Table of Books
  <figure>
    <a href="img\book.png"  target="_blank"><img src="img\book.png" height=75 width=75/></a> 
    <figcaption id="urlLink";>https://www.iconpacks.net/free-icon/opened-book-3163.html</figcaption>
    </figure>
</h1>
<body id="bodyText">
  <h2>Books Table</h2>
  <div id="table">
  <table id="bookTable" class="bookTable">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Author</th>
        <th scope="col">Year Published</th>
        <th scope="col">Publisher</th>
        <th scope="col">Page Count</th>
        <th scope="col">MSRP</th>
      </tr>
    </thead>
    <tbody>
      <tr v-for="book in books"> 
        <td>{{book.Title}}</td>
        <td>{{book.Author}}</td> 
        <td>{{book.YearPublished}}</td>
        <td>{{book.Publisher}}</td>
        <td>{{book.PageCount}}</td>
        <td>{{book.MSRP}}</td>
        <td> <button type="button" v-on:click="handleEditBook(book)" class="btn btn-outline-secondary btn-sm">Edit</button>
          <button type="button" v-on:click="postDeleteBook(book)" class="btn btn-outline-secondary btn-sm">Delete</button></td>
      </tr>
  </tbody>
  </table>
  <h3>{{ selectedBook === null ? "Insert" : "Edit" }} New Book</h3>
  <form v-on:submit.prevent="postBook">
    <div class="form-group">
      <label for="inputTitle">Title</label>
      <input type="text" v-model="booksForm.Title" class="form-control" id="inputTitle" aria-describedby="titleHelp" placeholder="Enter Title">
    </div>
    <div class="form-group">
      <label for="inputAuthor">Author</label>
      <input type="text" v-model="booksForm.Author" class="form-control" id="inputAuthor" placeholder="Enter Author Name">
    </div>
    <div class="form-group">
      <label for="inputYearPublished">Year Published</label>
      <input type="text" v-model="booksForm.YearPublished" class="form-control" id="inputYearPublished" placeholder="Enter Year Published">
    </div>
    <div class="form-group">
      <label for="inputPublisher">Pubisher</label>
      <input type="text" v-model="booksForm.Publisher" class="form-control" id="inputPublisher" placeholder="Enter Publisher">
    </div>
    <div class="form-group">
      <label for="inputPageCount">Page Count</label>
      <input type="text" v-model="booksForm.PageCount" class="form-control" id="inputPublisher" placeholder="Enter Publisher">
    </div>
    <div class="form-group">
      <label for="inputMSRP">MSRP</label>
      <input type="text" v-model="booksForm.MSRP"class="form-control" id="inputMSRP" placeholder="Enter MSRP">
    </div>
    <button type="submit" class="btn btn-primary">{{ selectedBook === null ? "Insert " : "Edit " }} Book</button>
          <button type="submit" class="btn btn-primary"
            v-if="selectedBook"
            v-on:click="handleResetEdit"> Cancel Edit </button>
  </form>
</div>


      <!-- Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>

  <script src="js/tablesort.min.js"></script>
  <script src="js/index.js"></script>

  <script> new Tablesort(document.getElementById('bookTable')); </script>
  <script> // tablesort plug-in from http://tristen.ca/tablesort/demo/ </script>

</body>
</html>